(function(){"use strict";var e={1271:function(e,t,a){var r=a(9242),s=a(3396);const o={key:0,href:"../../css/style.min.css",rel:"stylesheet"},l={key:1,href:"../css/style.min.css",rel:"stylesheet"},c={class:"content container"};function i(e,t,a,r,i,n){const u=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[/cart\/orders\/.*/.test(e.$route.fullPath)?((0,s.wg)(),(0,s.iD)("link",o)):((0,s.wg)(),(0,s.iD)("link",l)),(0,s._)("main",c,[(0,s.Wm)(u)])],64)}var n=a(65),u={methods:{...(0,n.nv)({loadCart:"API/loadCart",getAccessKey:"API/getAccessKey",getCart:"API/getCart"})},created(){localStorage.getItem("accessKey")||this.getAccessKey(),this.getCart()}},d=a(89);const _=(0,d.Z)(u,[["render",i]]);var p=_,m=a(7139);const g=e=>((0,s.dD)("data-v-eab29fb8"),e=e(),(0,s.Cn)(),e),h={class:"content__top content__top--catalog"},v=g((()=>(0,s._)("h1",{class:"content__title"},"Каталог",-1))),f={key:0,class:"content__info"},y={class:"content__catalog"},k={id:"catalog",class:"catalog"};function b(e,t,a,r,o,l){const c=(0,s.up)("ProductFilter"),i=(0,s.up)("loader"),n=(0,s.up)("ProductsList"),u=(0,s.up)("BaseEmpty"),d=(0,s.up)("BasePagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",h,[v,e.pagination?((0,s.wg)(),(0,s.iD)("span",f,(0,m.zw)(e.pagination.total)+" товаров ",1)):(0,s.kq)("",!0)]),(0,s._)("div",y,[(0,s.Wm)(c),(0,s._)("section",k,[e.loader?((0,s.wg)(),(0,s.j4)(i,{key:0})):(0,s.kq)("",!0),0!=e.products.length?((0,s.wg)(),(0,s.j4)(n,{key:1,products:e.products},null,8,["products"])):((0,s.wg)(),(0,s.j4)(u,{key:2,class:"catalog__empty"})),e.pagination?((0,s.wg)(),(0,s.j4)(d,{key:3,pagination:e.pagination},null,8,["pagination"])):(0,s.kq)("",!0)])])],64)}const P={class:"catalog__list"};function w(e,t,a,r,o,l){const c=(0,s.up)("ProductsItem");return(0,s.wg)(),(0,s.iD)("ul",P,[a.products?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(a.products,(e=>((0,s.wg)(),(0,s.j4)(c,{product:e,key:e.id},null,8,["product"])))),128)):(0,s.kq)("",!0)])}a(7658);const C={class:"catalog__item"},D=["src","alt"],I={class:"catalog__title"},$={href:"#"},x={class:"catalog__price"},A={class:"colors colors--black"},z={class:"colors__label"},q=["name","value"];function S(e,t,a,o,l,c){return(0,s.wg)(),(0,s.iD)("li",C,[(0,s._)("div",{class:"catalog__pic",onClick:t[0]||(t[0]=(0,r.iM)((t=>e.$router.push(`/product/${a.product.id}`)),["prevent"]))},[a.product.image?((0,s.wg)(),(0,s.iD)("img",{key:0,src:a.product.image.file.url,alt:a.product.title},null,8,D)):(0,s.kq)("",!0)]),(0,s._)("h3",I,[(0,s._)("a",$,(0,m.zw)(a.product.title),1)]),(0,s._)("span",x,(0,m.zw)(a.product.price)+" ₽ ",1),(0,s._)("ul",A,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.product.colors,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{class:"colors__item",key:e.id},[(0,s._)("label",z,[(0,s._)("input",{class:"colors__radio sr-only",type:"radio",name:"color"+e.id,value:e.title},null,8,q),(0,s._)("span",{class:"colors__value",style:(0,m.j5)({backgroundColor:e.code})},null,4)])])))),128))])])}var K={props:["product"]};const T=(0,d.Z)(K,[["render",S]]);var Z=T,L={props:["products"],components:{ProductsItem:Z}};const O=(0,d.Z)(L,[["render",w]]);var j=O;const B={class:"catalog__pagination pagination"},M={class:"pagination__item"},U=(0,s._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,s._)("use",{"xlink:href":"#icon-arrow-left"})],-1),H=[U],Y=["onClick"],F={key:0,class:"pagination__item"},E=(0,s._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,s._)("use",{"xlink:href":"#icon-arrow-right"})],-1),V=[E];function R(e,t,a,o,l,c){return(0,s.wg)(),(0,s.iD)("ul",B,[(0,s._)("li",M,[l.startpage!=l.currentPage?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"pagination__link pagination__link--arrow","aria-label":"Предыдущая страница",onClick:t[0]||(t[0]=e=>c.togglePage(l.currentPage-1))},H)):(0,s.kq)("",!0)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.pagination.pages,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"pagination__item",key:e},[(0,s._)("div",{class:(0,m.C_)(["pagination__link",{"pagination__link--disabled":a.pagination.page!=e}]),onClick:(0,r.iM)((t=>c.togglePage(e)),["prevent"])},(0,m.zw)(e),11,Y)])))),128)),l.currentPage!=a.pagination.pages?((0,s.wg)(),(0,s.iD)("li",F,[(0,s._)("div",{class:"pagination__link pagination__link--arrow",onClick:t[1]||(t[1]=e=>c.togglePage(l.currentPage+1)),"aria-label":"Следующая страница"},V)])):(0,s.kq)("",!0)])}var N={name:"Pagination",props:["pagination"],data(){return{startpage:1,currentPage:1}},methods:{...(0,n.nv)({loadProducts:"API/loadProducts"}),togglePage(e){this.currentPage=e,this.loadProducts({page:e})}}};const G=(0,d.Z)(N,[["render",R]]);var W=G;const X={class:"filter"},J=(0,s._)("h2",{class:"filter__title"},"Фильтры",-1),Q={class:"form__block"},ee=(0,s._)("legend",{class:"form__legend"},"Цена",-1),te={class:"form__label form__label--price"},ae=(0,s._)("span",{class:"form__value"},"От",-1),re={class:"form__label form__label--price"},se=(0,s._)("span",{class:"form__value"},"До",-1),oe={class:"form__block"},le=(0,s._)("legend",{class:"form__legend"},"Категория",-1),ce={class:"form__label form__label--select"},ie=(0,s._)("option",{value:"0"},"Все категории",-1),ne=["value"],ue={class:"form__block"},de=(0,s._)("legend",{class:"form__legend"},"Цвет",-1),_e={class:"colors"},pe={class:"colors__label"},me=["checked","value"],ge={key:0,class:"form__block"},he=(0,s.uE)('<legend class="form__legend">Объемб в ГБ</legend><ul class="check-list"><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="8" checked=""><span class="check-list__desc"> 8 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="16"><span class="check-list__desc"> 16 <span>(461)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="32"><span class="check-list__desc"> 32 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="64"><span class="check-list__desc"> 64 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="128"><span class="check-list__desc"> 128 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="264"><span class="check-list__desc"> 264 <span>(313)</span></span></label></li></ul>',2),ve=[he];function fe(e,t,a,o,l,c){return(0,s.wg)(),(0,s.iD)("aside",X,[J,(0,s._)("form",{class:"filter__form form",action:"#",method:"get",onSubmit:t[6]||(t[6]=(0,r.iM)(((...e)=>c.submit&&c.submit(...e)),["prevent"]))},[(0,s._)("fieldset",Q,[ee,(0,s._)("label",te,[(0,s.wy)((0,s._)("input",{class:"form__input",type:"number",name:"min-price","onUpdate:modelValue":t[0]||(t[0]=e=>l.currentPriceFrom=e)},null,512),[[r.nr,l.currentPriceFrom,void 0,{number:!0}]]),ae]),(0,s._)("label",re,[(0,s.wy)((0,s._)("input",{class:"form__input",type:"number",name:"max-price","onUpdate:modelValue":t[1]||(t[1]=e=>l.currentPriceTo=e)},null,512),[[r.nr,l.currentPriceTo,void 0,{number:!0}]]),se])]),(0,s._)("fieldset",oe,[le,(0,s._)("label",ce,[(0,s.wy)((0,s._)("select",{class:"form__select",name:"category","onUpdate:modelValue":t[2]||(t[2]=e=>l.currentCategoryId=e)},[ie,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.categories,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id,key:e.id},(0,m.zw)(e.title),9,ne)))),128))],512),[[r.bM,l.currentCategoryId]])])]),(0,s._)("fieldset",ue,[de,(0,s._)("ul",_e,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.colors,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"colors__item",key:e.id},[(0,s._)("label",pe,[(0,s.wy)((0,s._)("input",{class:"colors__radio sr-only",type:"radio",name:"color",checked:0==a,value:e.code,"onUpdate:modelValue":t[3]||(t[3]=e=>l.currentColor=e)},null,8,me),[[r.G2,l.currentColor,void 0,{number:!0}]]),(0,s._)("span",{class:"colors__value",style:(0,m.j5)({backgroundColor:e.code})},null,4)])])))),128))])]),3==l.currentCategoryId?((0,s.wg)(),(0,s.iD)("fieldset",ge,ve)):(0,s.kq)("",!0),(0,s._)("button",{class:"filter__submit button button--primery",type:"submit",onClick:t[4]||(t[4]=(0,r.iM)(((...e)=>c.submit&&c.submit(...e)),["prevent"]))}," Применить "),(0,s._)("button",{class:"filter__reset button button--second",type:"button",onClick:t[5]||(t[5]=(0,r.iM)(((...e)=>c.reset&&c.reset(...e)),["prevent"]))}," Сбросить ")],32)])}var ye={name:"Filter",data(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColor:""}},computed:{...(0,n.rn)({categories:e=>e.API.categories,colors:e=>e.API.colors})},watch:{currentPriceFrom(e){return this.currentPriceFrom=e},currentPriceTo(e){return this.currentPriceTo=e},currentCategoryId(e){return this.currentCategoryId=e},currentColor(e){return this.currentColor=e}},methods:{...(0,n.nv)({loadProducts:"API/loadProducts",loadCategories:"API/loadCategories",loadColors:"API/loadColors"}),submit(){const e=this.colors.find((e=>e.code==this.currentColor));this.loadProducts({category:this.currentCategoryId,maxPrice:this.currentPriceTo,minPrice:this.currentPriceFrom,color:e?e.id:0})},reset(){this.loadProducts()}}};const ke=(0,d.Z)(ye,[["render",fe]]);var be=ke;const Pe=e=>((0,s.dD)("data-v-4e869e3c"),e=e(),(0,s.Cn)(),e),we={class:"loader"},Ce=Pe((()=>(0,s._)("div",{class:"loader__container"},[(0,s._)("span"),(0,s._)("span")],-1))),De=[Ce];function Ie(e,t,a,r,o,l){return(0,s.wg)(),(0,s.iD)("div",we,De)}var $e={};const xe=(0,d.Z)($e,[["render",Ie],["__scopeId","data-v-4e869e3c"]]);var Ae=xe;const ze=e=>((0,s.dD)("data-v-0ec7e67a"),e=e(),(0,s.Cn)(),e),qe={class:"empty"},Se=ze((()=>(0,s._)("h2",null,"Товаров на складе нет.",-1))),Ke=ze((()=>(0,s._)("p",null,"Выберите пожалуйста другой товар.",-1))),Te=[Se,Ke];function Ze(e,t,a,r,o,l){return(0,s.wg)(),(0,s.iD)("div",qe,Te)}var Le={};const Oe=(0,d.Z)(Le,[["render",Ze],["__scopeId","data-v-0ec7e67a"]]);var je=Oe,Be={name:"MainPage",components:{ProductsList:j,BasePagination:W,ProductFilter:be,loader:Ae,BaseEmpty:je},computed:{...(0,n.rn)({pagination:e=>e.API.pagination,products:e=>e.API.products,page:e=>e.API.page,limit:e=>e.API.limit,loader:e=>e.API.loader}),countProducts(){return this.products?this.products.length:0}},methods:{...(0,n.nv)({loadProducts:"API/loadProducts",loadCategories:"API/loadCategories",loadColors:"API/loadColors"})},created(){this.loadProducts(),this.loadCategories(),this.loadColors()}};const Me=(0,d.Z)(Be,[["render",b],["__scopeId","data-v-eab29fb8"]]);var Ue=Me;const He={class:"content container"},Ye={class:"content__top"},Fe={class:"item"};function Ee(e,t,a,r,o,l){const c=(0,s.up)("BaseBreadcrumbs"),i=(0,s.up)("ProductGallery"),n=(0,s.up)("ProductInfo"),u=(0,s.up)("ProductDescr");return(0,s.wg)(),(0,s.iD)("main",He,[(0,s._)("div",Ye,[(0,s.Wm)(c,{component:e.productSingle},null,8,["component"])]),(0,s._)("section",Fe,[e.productSingle?((0,s.wg)(),(0,s.j4)(i,{key:0,product:e.productSingle},null,8,["product"])):(0,s.kq)("",!0),e.productSingle?((0,s.wg)(),(0,s.j4)(n,{key:1,product:e.productSingle},null,8,["product"])):(0,s.kq)("",!0),e.productSingle?((0,s.wg)(),(0,s.j4)(u,{key:2,product:e.productSingle},null,8,["product"])):(0,s.kq)("",!0)])])}const Ve={class:"item__desc"},Re={class:"tabs"},Ne={class:"item__content"};function Ge(e,t,a,r,o,l){return(0,s.wg)(),(0,s.iD)("div",Ve,[(0,s._)("ul",Re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"tabs__item",key:a,onClick:t[0]||(t[0]=(...e)=>l.selectTabs&&l.selectTabs(...e))},[(0,s._)("div",{class:(0,m.C_)(["tabs__link",{"tabs__link--current":e==o.activeTab}])},(0,m.zw)(e),3)])))),128))]),(0,s._)("div",Ne,["Описание"==o.activeTab?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(a.product.descr,(e=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h3",null,(0,m.zw)(e.title),1),(0,s._)("p",null,(0,m.zw)(e.descr),1)])))),256)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(a.product.attr,(e=>((0,s.wg)(),(0,s.iD)("p",null,(0,m.zw)(e),1)))),256))])])}var We={name:"ProductDescr",props:["product"],data(){return{activeTab:"Описание",tabs:["Описание","Характеристики","Гарантия","Оплата и доставка"]}},methods:{selectTabs(e){return this.activeTab=e.target.textContent}}};const Xe=(0,d.Z)(We,[["render",Ge]]);var Je=Xe;const Qe={class:"item__info"},et={class:"item__code"},tt={class:"item__title"},at={class:"item__form"},rt={class:"form"},st={class:"item__price"},ot={class:"form__block"},lt=(0,s._)("legend",{class:"form__legend"},"Цвет:",-1),ct={class:"colors"},it={class:"colors__label"},nt=["checked","value"],ut={key:0,class:"form__block"},dt=(0,s._)("legend",{class:"form__legend"},"Объемб в ГБ:",-1),_t={class:"sizes sizes--primery"},pt={class:"sizes__label"},mt=["value"],gt={class:"sizes__value"},ht={class:"item__row"},vt={class:"form__counter"},ft=(0,s._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,s._)("use",{"xlink:href":"#icon-minus"})],-1),yt=[ft],kt=(0,s._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,s._)("use",{"xlink:href":"#icon-plus"})],-1),bt=[kt];function Pt(e,t,a,o,l,c){const i=(0,s.up)("loader");return(0,s.wg)(),(0,s.iD)("div",Qe,[(0,s._)("span",et,"Артикул: "+(0,m.zw)(a.product.id),1),(0,s._)("h2",tt,(0,m.zw)(a.product.title),1),(0,s._)("div",at,[(0,s._)("form",rt,[(0,s._)("b",st,(0,m.zw)(a.product.price)+" ₽ ",1),(0,s._)("fieldset",ot,[lt,(0,s._)("ul",ct,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.product.colors,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"colors__item",key:e.id},[(0,s._)("label",it,[(0,s._)("input",{class:"colors__radio sr-only",type:"radio",name:"color",checked:0==a,value:e.title,onClick:t[0]||(t[0]=(...e)=>c.changeColor&&c.changeColor(...e))},null,8,nt),(0,s._)("span",{class:"colors__value",style:(0,m.j5)({backgroundColor:e.code})},null,4)])])))),128))])]),a.product.memory?((0,s.wg)(),(0,s.iD)("fieldset",ut,[dt,(0,s._)("ul",_t,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.product.memory,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"sizes__item",key:e},[(0,s._)("label",pt,[(0,s._)("input",{class:"sizes__radio sr-only",type:"radio",name:"sizes-item",value:e},null,8,mt),(0,s._)("span",gt,(0,m.zw)(e),1)])])))),128))])])):(0,s.kq)("",!0),(0,s._)("div",ht,[(0,s._)("div",vt,[(0,s._)("button",{type:"button","aria-label":"Убрать один товар",onClick:t[1]||(t[1]=(0,r.iM)(((...e)=>c.minus&&c.minus(...e)),["prevent"]))},yt),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.startItem=e),name:"count"},null,512),[[r.nr,l.startItem,void 0,{number:!0}]]),(0,s._)("button",{type:"button","aria-label":"Добавить один товар",onClick:t[3]||(t[3]=(0,r.iM)(((...e)=>c.plus&&c.plus(...e)),["prevent"]))},bt)]),(0,s._)("button",{class:"button button--primery",type:"submit",onClick:t[4]||(t[4]=(0,r.iM)((t=>e.pushCard({productID:a.product.id,startItem:l.startItem})),["prevent"]))}," В корзину "),e.loaderParam?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"loader__single-product"})):(0,s.kq)("",!0)])])])])}var wt={name:"ProductInfo",props:["product"],components:{loader:Ae},data(){return{startItem:1,colorStart:this.product.colors[0].title}},computed:{...(0,n.rn)({loaderParam:e=>e.API.loader})},methods:{...(0,n.OI)({plusProduct:"plus",minusProduct:"minus"}),...(0,n.nv)({pushCard:"API/pushCard"}),changeColor(e){return this.colorStart=e.target.value},plus(){return this.startItem=this.startItem+1},minus(){if(this.startItem>1)return this.startItem=this.startItem-1}}};const Ct=(0,d.Z)(wt,[["render",Pt]]);var Dt=Ct;const It={class:"item__pics pics"},$t={class:"pics__wrapper"},xt=["src"];function At(e,t,a,r,o,l){return(0,s.wg)(),(0,s.iD)("div",It,[(0,s._)("div",$t,[(0,s._)("img",{width:"570",height:"570",src:a.product.image.file.url,alt:"Название товара"},null,8,xt)])])}var zt={name:"ProductGalley",props:["product"]};const qt=(0,d.Z)(zt,[["render",At]]);var St=qt;const Kt={class:"breadcrumbs"},Tt={class:"breadcrumbs__item"},Zt={key:0,class:"breadcrumbs__item"},Lt={class:"breadcrumbs__link"},Ot={key:1,class:"breadcrumbs__item"},jt={class:"breadcrumbs__link"},Bt={key:2,class:"breadcrumbs__item"},Mt=(0,s._)("div",{class:"breadcrumbs__link"},"Корзина",-1),Ut=[Mt];function Ht(e,t,a,r,o,l){return(0,s.wg)(),(0,s.iD)("ul",Kt,[(0,s._)("li",Tt,[(0,s._)("div",{class:"breadcrumbs__link",onClick:t[0]||(t[0]=t=>e.$router.push("/"))},"Каталог")]),"ProductPage"==this.$route.name&&a.component?((0,s.wg)(),(0,s.iD)("li",Zt,[(0,s._)("div",Lt,(0,m.zw)(a.component.category.title),1)])):(0,s.kq)("",!0),"ProductPage"==this.$route.name&&a.component?((0,s.wg)(),(0,s.iD)("li",Ot,[(0,s._)("div",jt,(0,m.zw)(a.component.title),1)])):(0,s.kq)("",!0),"CardPage"==this.$route.name?((0,s.wg)(),(0,s.iD)("li",Bt,Ut)):(0,s.kq)("",!0)])}var Yt={props:["component"]};const Ft=(0,d.Z)(Yt,[["render",Ht]]);var Et=Ft,Vt={name:"ProductPage",components:{ProductDescr:Je,ProductInfo:Dt,ProductGallery:St,BaseBreadcrumbs:Et},computed:{...(0,n.rn)({productSingle:e=>e.API.productSingle,loaderParam:e=>e.API.loader})},methods:{...(0,n.nv)({loadPorduct:"API/loadProduct"})},created(){this.loadPorduct(this.$route.params.id)}};const Rt=(0,d.Z)(Vt,[["render",Ee]]);var Nt=Rt;function Gt(e,t,a,r,o,l){return(0,s.wg)(),(0,s.iD)("h1",null,"404. Страница не найдена")}var Wt={};const Xt=(0,d.Z)(Wt,[["render",Gt]]);var Jt=Xt;const Qt={class:"content__top"},ea=(0,s._)("h1",{class:"content__title"},"Корзина",-1),ta={class:"content__info"},aa={class:"cart"};function ra(e,t,a,r,o,l){const c=(0,s.up)("BaseBreadcrumbs"),i=(0,s.up)("CardForm"),n=(0,s.up)("CardList");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Qt,[(0,s.Wm)(c),ea,(0,s._)("span",ta,(0,m.zw)(e.cartProductsData.length)+" товара",1)]),(0,s._)("section",aa,["true"==e.$route.query.delivery?((0,s.wg)(),(0,s.j4)(i,{key:0})):((0,s.wg)(),(0,s.j4)(n,{key:1}))])],64)}const sa={class:"cart__form form"},oa={class:"cart__field"},la={key:1,class:"cart__list"},ca={class:"cart__block"},ia=(0,s._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),na={class:"cart__price"};function ua(e,t,a,o,l,c){const i=(0,s.up)("loader"),n=(0,s.up)("CardItem");return(0,s.wg)(),(0,s.iD)("div",sa,[(0,s._)("div",oa,[e.loader?((0,s.wg)(),(0,s.j4)(i,{key:0})):((0,s.wg)(),(0,s.iD)("ul",la,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cartProductsData,(e=>((0,s.wg)(),(0,s.j4)(n,{key:e.product.id,item:e},null,8,["item"])))),128))]))]),(0,s._)("div",ca,[ia,(0,s._)("p",na,[(0,s.Uk)(" Итого: "),(0,s._)("span",null,(0,m.zw)(c.cartTotalPrice)+" ₽",1)]),0!=e.cartProductsData.length?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[0]||(t[0]=(0,r.iM)((t=>e.$router.push("/cart/?delivery=true")),["prevent"])),class:"cart__button button button--primery"}," Оформить заказ ")):(0,s.kq)("",!0)])])}const da={class:"cart__item product"},_a={class:"product__pic"},pa=["src","alt"],ma={class:"product__title"},ga=(0,s._)("p",{class:"product__info"},[(0,s.Uk)("Объем: "),(0,s._)("span",null,"128GB")],-1),ha={class:"product__code"},va={class:"product__counter form__counter"},fa=(0,s._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,s._)("use",{"xlink:href":"#icon-minus"})],-1),ya=[fa],ka=(0,s._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,s._)("use",{"xlink:href":"#icon-plus"})],-1),ba=[ka],Pa={class:"product__price"},wa=(0,s._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,s._)("use",{"xlink:href":"#icon-close"})],-1),Ca=[wa];function Da(e,t,a,o,l,c){return(0,s.wg)(),(0,s.iD)("li",da,[(0,s._)("div",_a,[(0,s._)("img",{src:a.item.product.image.file.url,width:"120",height:"120",alt:a.item.product.title},null,8,pa)]),(0,s._)("h3",ma,(0,m.zw)(a.item.product.title),1),ga,(0,s._)("span",ha,"Артикул: "+(0,m.zw)(a.item.product.id),1),(0,s._)("div",va,[(0,s._)("button",{type:"button","aria-label":"Убрать один товар",onClick:t[0]||(t[0]=(0,r.iM)(((...e)=>c.minus&&c.minus(...e)),["prevent"]))},ya),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.item.quantity=e),name:"count"},null,512),[[r.nr,a.item.quantity,void 0,{number:!0}]]),(0,s._)("button",{type:"button","aria-label":"Добавить один товар",onClick:t[2]||(t[2]=(0,r.iM)(((...e)=>c.plus&&c.plus(...e)),["prevent"]))},ba)]),(0,s._)("b",Pa,(0,m.zw)(a.item.price*a.item.quantity),1),(0,s._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:t[3]||(t[3]=(0,r.iM)((t=>e.deleteCart(a.item)),["prevent"]))},Ca)])}var Ia={props:["item"],methods:{...(0,n.nv)({deleteCart:"API/deleteCart",updateCart:"API/updateCart"}),plus(){let e=this.item.quantity+1;this.updateCart({productID:this.item.product.id,startItem:e})},minus(){let e=this.item.quantity-1;this.updateCart({productID:this.item.product.id,startItem:e})}}};const $a=(0,d.Z)(Ia,[["render",Da]]);var xa=$a,Aa={name:"CardList",components:{CardItem:xa,loader:Ae},computed:{...(0,n.rn)({cartProductsData:e=>e.API.cartProductsData,loader:e=>e.API.loader}),...(0,n.Se)({products:"cardDetailsProduct"}),cartTotalPrice(){return this.cartProductsData.reduce(((e,t)=>t.product.price*t.quantity+e),0)}}};const za=(0,d.Z)(Aa,[["render",ua]]);var qa=za;const Sa={class:"cart__field"},Ka={class:"cart__data"},Ta={class:"form__label"},Za=(0,s._)("span",{class:"form__value"},"ФИО",-1),La={key:0,class:"form__error"},Oa={class:"form__label"},ja=(0,s._)("span",{class:"form__value"},"Адрес доставки",-1),Ba={key:0,class:"form__error"},Ma={class:"form__label"},Ua=(0,s._)("span",{class:"form__value"},"Телефон",-1),Ha={key:0,class:"form__error"},Ya={class:"form__label"},Fa=(0,s._)("span",{class:"form__value"},"Email",-1),Ea={key:0,class:"form__error"},Va={class:"form__label"},Ra=(0,s._)("span",{class:"form__value"},"Комментарий к заказу",-1),Na={class:"cart__options"},Ga=(0,s._)("h3",{class:"cart__title"},"Доставка",-1),Wa={class:"cart__options options"},Xa={class:"options__label"},Ja=["checked","value","onClick"],Qa={class:"options__value"},er=(0,s._)("h3",{class:"cart__title"},"Оплата",-1),tr={class:"cart__options options"},ar={class:"options__label"},rr=["value","checked","onClick"],sr={class:"options__value"},or={class:"cart__block"},lr={class:"cart__orders"},cr={class:"cart__total"},ir=(0,s._)("button",{class:"cart__button button button--primery",type:"submit"}," Оформить заказ ",-1),nr={key:0,class:"cart__error form__error-block"},ur=(0,s._)("h4",null,"Заявка не отправлена!",-1),dr=(0,s._)("p",null," Похоже произошла ошибка. Попробуйте отправить снова или перезагрузите страницу. ",-1),_r=[ur,dr];function pr(e,t,a,o,l,c){return(0,s.wg)(),(0,s.iD)("form",{class:"cart__form form",onSubmit:t[9]||(t[9]=(0,r.iM)(((...e)=>c.pushForm&&c.pushForm(...e)),["prevent"]))},[(0,s._)("div",Sa,[(0,s._)("div",Ka,[(0,s._)("label",Ta,[(0,s.wy)((0,s._)("input",{class:"form__input",type:"text",name:"name",placeholder:"Введите ваше полное имя","onUpdate:modelValue":t[0]||(t[0]=e=>l.form.fullName=e),onBlur:t[1]||(t[1]=(...e)=>o.v$.form.fullName.$touch&&o.v$.form.fullName.$touch(...e))},null,544),[[r.nr,l.form.fullName]]),Za,o.v$.form.fullName.$error?((0,s.wg)(),(0,s.iD)("span",La,"Это поле обязательное")):(0,s.kq)("",!0)]),(0,s._)("label",Oa,[(0,s.wy)((0,s._)("input",{class:"form__input",type:"text",name:"address",placeholder:"Введите ваш адрес","onUpdate:modelValue":t[2]||(t[2]=e=>l.form.address=e),onBlur:t[3]||(t[3]=(...e)=>o.v$.form.address.$touch&&o.v$.form.address.$touch(...e))},null,544),[[r.nr,l.form.address]]),ja,o.v$.form.address.$error?((0,s.wg)(),(0,s.iD)("span",Ba,"Это поле обязательное")):(0,s.kq)("",!0)]),(0,s._)("label",Ma,[(0,s.wy)((0,s._)("input",{class:"form__input",type:"tel",name:"phone",placeholder:"Введите ваш телефон","onUpdate:modelValue":t[4]||(t[4]=e=>l.form.phone=e),onBlur:t[5]||(t[5]=(...e)=>o.v$.form.phone.$touch&&o.v$.form.phone.$touch(...e))},null,544),[[r.nr,l.form.phone]]),Ua,o.v$.form.phone.$error?((0,s.wg)(),(0,s.iD)("span",Ha,"Это поле обязательное")):(0,s.kq)("",!0)]),(0,s._)("label",Ya,[(0,s.wy)((0,s._)("input",{class:"form__input",type:"email",name:"email",placeholder:"Введи ваш Email","onUpdate:modelValue":t[6]||(t[6]=e=>l.form.email=e),onBlur:t[7]||(t[7]=(...e)=>o.v$.form.email.$touch&&o.v$.form.email.$touch(...e))},null,544),[[r.nr,l.form.email]]),Fa,o.v$.form.email.$error?((0,s.wg)(),(0,s.iD)("span",Ea,"Это поле обязательное")):(0,s.kq)("",!0)]),(0,s._)("label",Va,[(0,s.wy)((0,s._)("textarea",{class:"form__input form__input--area",name:"comments",placeholder:"Ваши пожелания","onUpdate:modelValue":t[8]||(t[8]=e=>l.form.message=e)},null,512),[[r.nr,l.form.message]]),Ra])]),(0,s._)("div",Na,[Ga,(0,s._)("ul",Wa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.delivery,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"options__item",key:e.code},[(0,s._)("label",Xa,[(0,s._)("input",{class:"options__radio sr-only",type:"radio",name:"delivery",checked:e.active,value:e.price,onClick:t=>c.changeDelivery(t,e)},null,8,Ja),(0,s._)("span",Qa,[(0,s.Uk)((0,m.zw)(e.name)+" ",1),(0,s._)("b",null,(0,m.zw)(0==e.price?"бесплатно":e.price+" ₽"),1)])])])))),128))]),er,(0,s._)("ul",tr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pay,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"options__item",key:e.code},[(0,s._)("label",ar,[(0,s._)("input",{class:"options__radio sr-only",type:"radio",name:"pay",value:e.code,checked:e.active,onClick:t=>c.changePay(t,e)},null,8,rr),(0,s._)("span",sr,(0,m.zw)(e.name)+" при получении ",1)])])))),128))])])]),(0,s._)("div",or,[(0,s._)("ul",lr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.cartProductsData,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"cart__order",key:e.id},[(0,s._)("h3",null,(0,m.zw)(e.product.title),1),(0,s._)("b",null,(0,m.zw)(e.product.price)+" ₽",1),(0,s._)("span",null,"Артикул: "+(0,m.zw)(e.product.id),1)])))),128))]),(0,s._)("div",cr,[(0,s._)("p",null,[(0,s.Uk)(" Доставка: "),(0,s._)("b",null,(0,m.zw)(e.namePrice),1)]),(0,s._)("p",null,[(0,s.Uk)(" Итого: "),(0,s._)("b",null,(0,m.zw)(e.cartTotalCount),1),(0,s.Uk)(" товара на сумму "),(0,s._)("b",null,(0,m.zw)(e.cartTotalPrice)+" ₽",1)])]),ir]),o.v$.$error?((0,s.wg)(),(0,s.iD)("div",nr,_r)):(0,s.kq)("",!0)],32)}var mr=a(4219),gr=a(5420),hr={name:"CardForm",setup(){return{v$:(0,mr.Xw)()}},data(){return{pay:[{code:"card",name:"Картой",active:!0},{code:"cash",name:"Наличными",active:!1}],form:{fullName:"тест",address:"тест",phone:"+79023844006",email:"test@test.com",message:"тест"}}},validations(){return{form:{fullName:{required:gr.C1},address:{required:gr.C1},phone:{required:gr.C1},email:{required:gr.C1,email:gr.Do}}}},computed:{...(0,n.rn)({cartProductsData:e=>e.API.cartProductsData,orderId:e=>e.API.order.id,delivery:e=>e.API.delivery}),...(0,n.Se)({cartTotalPrice:"API/cartTotalPrice",namePrice:"API/namePrice",cartTotalCount:"API/cartTotalCount"})},methods:{...(0,n.nv)({createOrder:"API/createOrder"}),changeDelivery(e,t){this.delivery.forEach((e=>e.active=!1)),t.active=!0},changePay(e,t){this.pay.forEach((e=>e.active=!1)),t.active=!0},async pushForm(){if(this.v$.$validate(),!this.v$.$error){alert("Форма Успешно отправленна");const e=await this.createOrder(this.form);this.$router.push(`/cart/orders/${e.data.id}`)}}}};const vr=(0,d.Z)(hr,[["render",pr]]);var fr=vr,yr={name:"CardPage",components:{BaseBreadcrumbs:Et,CardList:qa,CardForm:fr},computed:{...(0,n.rn)({cartProductsData:e=>e.API.cartProductsData})}};const kr=(0,d.Z)(yr,[["render",ra]]);var br=kr;const Pr={key:0,class:"cart"},wr={class:"cart__form form"},Cr={class:"cart__field"},Dr=(0,s._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),Ir={class:"dictionary"},$r={class:"dictionary__item"},xr=(0,s._)("span",{class:"dictionary__key"}," Получатель ",-1),Ar={class:"dictionary__value"},zr={class:"dictionary__item"},qr=(0,s._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),Sr={class:"dictionary__value"},Kr={class:"dictionary__item"},Tr=(0,s._)("span",{class:"dictionary__key"}," Телефон ",-1),Zr={class:"dictionary__value"},Lr={class:"dictionary__item"},Or=(0,s._)("span",{class:"dictionary__key"}," Email ",-1),jr={class:"dictionary__value"},Br={class:"cart__block"},Mr={class:"cart__orders"},Ur={class:"cart__total"};function Hr(e,t,a,r,o,l){const c=(0,s.up)("BaseBreadcrumbs");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),o.orderResult?((0,s.wg)(),(0,s.iD)("section",Pr,[(0,s._)("div",wr,[(0,s._)("div",Cr,[Dr,(0,s._)("ul",Ir,[(0,s._)("li",$r,[xr,(0,s._)("span",Ar,(0,m.zw)(o.orderResult.name),1)]),(0,s._)("li",zr,[qr,(0,s._)("span",Sr,(0,m.zw)(o.orderResult.address),1)]),(0,s._)("li",Kr,[Tr,(0,s._)("span",Zr,(0,m.zw)(o.orderResult.phone),1)]),(0,s._)("li",Lr,[Or,(0,s._)("span",jr,(0,m.zw)(o.orderResult.email),1)])])]),(0,s._)("div",Br,[(0,s._)("ul",Mr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.orderResult.basket.items,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"cart__order",key:e.id},[(0,s._)("h3",null,(0,m.zw)(e.product.title),1),(0,s._)("b",null,(0,m.zw)(e.product.price)+" ₽",1),(0,s._)("span",null,"Артикул: "+(0,m.zw)(e.product.id),1)])))),128))]),(0,s._)("div",Ur,[(0,s._)("p",null,[(0,s.Uk)(" Доставка: "),(0,s._)("b",null,(0,m.zw)(e.namePrice),1)]),(0,s._)("p",null,[(0,s.Uk)(" Итого: "),(0,s._)("b",null,(0,m.zw)(l.cartTotalCount),1),(0,s.Uk)(" товара на сумму "),(0,s._)("b",null,(0,m.zw)(o.orderResult.totalPrice)+" ₽",1)])])])])])):(0,s.kq)("",!0)],64)}var Yr={name:"SuccessPage",data(){return{orderResult:null}},computed:{...(0,n.rn)({delivery:e=>e.API.productSingle}),...(0,n.Se)({namePrice:"API/namePrice"}),cartTotalCount(){return this.orderResult.basket.items.reduce(((e,t)=>t.quantity+e),0)}},methods:{...(0,n.nv)({getOrder:"API/getOrder"})},async created(){const e=await this.getOrder(this.$route.params.id);this.orderResult=e.data}};const Fr=(0,d.Z)(Yr,[["render",Hr]]);var Er=Fr,Vr=a(2483);const Rr=[{path:"/",name:"MainPage",component:Ue},{path:"/product/:id",name:"ProductPage",component:Nt},{path:"/404",name:"NotFoundPage",component:Jt},{path:"/cart",name:"CardPage",component:br},{path:"/cart/orders/:id",name:"SuccessPage",component:Er}],Nr=(0,Vr.p7)({routes:Rr,history:(0,Vr.PO)("/vue-skillbox/")});var Gr=Nr,Wr=a(6215),Xr=a.n(Wr);const Jr={class:"header__wrapper container"},Qr=(0,s._)("span",{class:"header__info"},"Каталог",-1),es=(0,s._)("a",{class:"header__logo",href:"#"},[(0,s._)("img",{src:"/img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"})],-1),ts={class:"header__tel",href:"tel:8 800 600 90 09"},as=(0,s._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,s._)("use",{"xlink:href":"#icon-cart"})],-1),rs={class:"header__count","aria-label":"Количество товаров"};function ss(e,t,a,r,o,l){return(0,s.wg)(),(0,s.iD)("div",Jr,[Qr,es,(0,s._)("a",ts,(0,m.zw)(e.$store.state.contacts.tel),1),(0,s._)("div",{class:"header__cart",onClick:t[0]||(t[0]=t=>e.$router.push("/cart")),"aria-label":"Корзина с товарами"},[as,(0,s._)("span",rs,(0,m.zw)(l.cartLength),1)])])}var os={computed:{...(0,n.rn)({cartProductsData:e=>e.API.cartProductsData}),cartLength(){return this.cartProductsData?this.cartProductsData.length:0}}};const ls=(0,d.Z)(os,[["render",ss]]);var cs=ls;const is={class:"footer__wrapper container"},ns=(0,s.uE)('<ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span>',5),us=[ns];function ds(e,t,a,r,o,l){return(0,s.wg)(),(0,s.iD)("div",is,us)}var _s={};const ps=(0,d.Z)(_s,[["render",ds]]);var ms=ps,gs=a(4161);const hs={namespaced:!0,state:()=>({page:1,limit:6,colors:null,pagination:null,categories:null,products:[],productSingle:null,cartProductsData:[],loader:!1,delivery:[{code:"delivery",name:"Самовывывоз",price:0,active:!0},{code:"delivery",name:"Курьером",price:500,active:!1}]}),getters:{currentDilivery(e){const t=e.delivery.filter((e=>1==e.active));return t},cartTotalPrice(e){const t=e.delivery.filter((e=>1==e.active));return e.cartProductsData.reduce(((e,a)=>a.product.price*a.quantity+e+t[0].price),0)},namePrice(e){let t="";return e.delivery.forEach((e=>{"Самовывывоз"==e.name&&1==e.active?t="бесплатно":"Курьером"==e.name&&1==e.active&&(t=e.price+" ₽")})),t},cartTotalCount(e){return e.cartProductsData.reduce(((e,t)=>t.quantity+e),0)}},mutations:{setProductsSingle(e,t){e.productSingle=t},setProducts(e,t){e.products=t},setProductsCategory(e,t){e.categories=t},setProductsColors(e,t){e.colors=t},setPagination(e,t){e.pagination=t},setCartProductsData(e,t){e.cartProductsData=t},setLoader(e,t){e.loader=t},setCardItems(e,t){e.cartProductsData.push(t)},setOrderId(e,t){e.order.id=t},setOrder(e,t){e.order.orderBody=t},deleteCartProductsData(e,t){e.cartProductsData=e.cartProductsData.filter((e=>e.product.id!=t))}},actions:{async loadProducts({state:e,commit:t},a=null){t("setLoader",!0);const r={page:e.page,limit:e.limit};a&&(a.color&&(r.colorId=a.color),a.minPrice&&(r.minPrice=a.minPrice),a.maxPrice&&(r.maxPrice=a.maxPrice),a.category&&(r.categoryId=a.category),a.limit&&(r.limit=a.limit),a.page&&(r.page=a.page));const s=await gs.Z.get("https://vue-study.skillbox.cc/api/products",{params:r});0!=s.data.items.length?(t("setProducts",s.data.items),t("setPagination",s.data.pagination)):(t("setProducts",[]),t("setPagination",!1)),t("setLoader",!1)},async loadProduct({state:e,commit:t},a){const r=await gs.Z.get(`https://vue-study.skillbox.cc/api/products/${a}`);t("setProductsSingle",r.data),t("setLoader",!1)},loadCategories({state:e,commit:t}){t("setLoader",!0),gs.Z.get("https://vue-study.skillbox.cc/api/productCategories").then((e=>{t("setLoader",!1),t("setProductsCategory",e.data.items)}))},loadColors({state:e,commit:t}){t("setLoader",!0),gs.Z.get("https://vue-study.skillbox.cc/api/colors").then((e=>{t("setLoader",!1),t("setProductsColors",e.data.items)}))},loadCart({state:e,commit:t},a){t("setLoader",!0),gs.Z.get("https://vue-study.skillbox.cc/api/baskets",{params:{userAccessKey:localStorage.getItem("accessKey")}}).then((e=>{t("setLoader",!1),t("setCartProductsData",e.data.items),t("syncCartProducts")}))},getAccessKey({state:e,commit:t}){gs.Z.get("https://vue-study.skillbox.cc/api/users/accessKey").then((e=>localStorage.setItem("accessKey",e.data.accessKey)))},getCart({state:e,commit:t}){t("setLoader",!0),gs.Z.get("https://vue-study.skillbox.cc/api/baskets",{params:{userAccessKey:localStorage.getItem("accessKey")}}).then((e=>{t("setCartProductsData",e.data.items),t("setLoader",!1)}))},updateCart({state:e,commit:t},a){gs.Z.put(`https://vue-study.skillbox.cc/api/baskets/products?userAccessKey=${localStorage.getItem("accessKey")}`,{productId:a.productID,quantity:a.startItem,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((e=>t("setCartProductsData",e.data.items)))},deleteCart({state:e,commit:t},a){gs.Z["delete"]("https://vue-study.skillbox.cc/api/baskets/products",{params:{userAccessKey:localStorage.getItem("accessKey")},data:{productId:a.product.id},headers:{"content-type":"application/x-www-form-urlencoded"}}).then((e=>t("deleteCartProductsData",a.product.id))),console.log(),(0,Wr.useToast)().error(`удален ${a.product.title}`)},async createOrder({state:e,commit:t},a){t("setLoader",!0);const r=await gs.Z.post(`https://vue-study.skillbox.cc/api/orders?userAccessKey=${localStorage.getItem("accessKey")}`,{headers:{"content-type":"application/x-www-form-urlencoded"},name:a.fullName,address:a.address,phone:a.phone,email:a.email,comment:a.message,pay:1});return t("setLoader",!1),r},async getOrder({state:e,commit:t},a){t("setLoader",!0);const r=await gs.Z.get(`https://vue-study.skillbox.cc/api/orders/${a}`,{params:{userAccessKey:localStorage.getItem("accessKey")}});return t("setLoader",!1),r},pushCard({state:e,commit:t},a){t("setLoader",!0),gs.Z.post(`https://vue-study.skillbox.cc/api/baskets/products?userAccessKey=${localStorage.getItem("accessKey")}`,{headers:{"content-type":"application/x-www-form-urlencoded"},productId:a.productID,quantity:a.startItem}).then((e=>{t("setCartProductsData",e.data.items),t("setLoader",!1)})),(0,Wr.useToast)().success(`Добавлено в корзину ${e.productSingle.title}`)}}};var vs=(0,n.MT)({state:{cardProducts:[],contacts:{tel:"8 800 600 90 09"}},getters:{cardDetailsProduct(e){return e.cardProducts.map((t=>{const a=e.API.cartProductsData.find((e=>e.product.id==t.product.id)).product;return{...t,product:a}}))}},mutations:{pushCard(e,t){const a=e.cardProducts.find((e=>e.product.id==t.product.id));a?a.count+=t.count:e.cardProducts.push(t)},updateCardProductCount(e,{id:t,count:a}){const r=e.cardProducts.find((e=>e.product.id==t));r&&(r.count=a)},deleteProductCard(e,t){e.cardProducts=e.cardProducts.filter((e=>e.product.id!==t))}},actions:{},modules:{API:hs}});(0,r.ri)(cs).use(Gr).use(vs).mount("header"),(0,r.ri)(p).use(Gr).use(vs).use(Xr()).mount("#app"),(0,r.ri)(ms).use(Gr).use(vs).mount("footer")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,o){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],s=e[u][1],o=e[u][2];for(var c=!0,i=0;i<r.length;i++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[i])}))?r.splice(i--,1):(c=!1,o<l&&(l=o));if(c){e.splice(u--,1);var n=s();void 0!==n&&(t=n)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,l=r[0],c=r[1],i=r[2],n=0;if(l.some((function(t){return 0!==e[t]}))){for(s in c)a.o(c,s)&&(a.m[s]=c[s]);if(i)var u=i(a)}for(t&&t(r);n<l.length;n++)o=l[n],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self["webpackChunkwebsite"]=self["webpackChunkwebsite"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1271)}));r=a.O(r)})();
//# sourceMappingURL=app.e2060306.js.map